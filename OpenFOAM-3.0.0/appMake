SRC_DIR=${WM_PROJECT_DIR}/src
INSTALL_DIR = ${WM_PROJECT_DIR}/platforms/${WM_OPTIONS}
THIRD_DIR= ${WM_PROJECT_DIR}/../ThirdParty-3.0.0/platforms/${WM_OPTIONS}
SWLU_DIR = /home/export/online3/amd_dev1/software/swlu
SWLU_LIB = -lswlu_mpi-beta

icoFoam:
	swg++453 -DSWTIMER=1 -DSWLU -fPIC -Dlinux64 -DWM_ARCH_OPTION=64 -DWM_DP -DWM_LABEL_SIZE=32 -Wall -Wextra -Wno-old-style-cast -Wnon-virtual-dtor -Wno-unused-parameter -Wno-invalid-offsetof -O3  -DNoRepository -ftemplate-depth-100 -I${SRC_DIR}/finiteVolume/lnInclude -I${SRC_DIR}/meshTools/lnInclude -IlnInclude -I. -I${SRC_DIR}/OpenFOAM/lnInclude -I${SRC_DIR}/OSspecific/lnInclude   -I/usr/sw-mpp/swcc/swgcc453-binary/cross-tools/include -I${HOME}/include -I${SWLU_DIR}/include -c ./applications/solvers/incompressible/icoFoam/icoFoam.C -o ${INSTALL_DIR}/applications/solvers/incompressible/icoFoam/icoFoam.o
	OFswld_lhb ${INSTALL_DIR}/applications/solvers/incompressible/icoFoam/icoFoam.o -L${INSTALL_DIR}/lib -L${INSTALL_DIR}/lib/mpi -L${INSTALL_DIR}/lib/dummy -L${THIRD_DIR}/lib -L${THIRD_DIR}/lib/mpi -L${SWLU_DIR}/lib -lfiniteVolume -lmeshTools --whole-archive -lOpenFOAM -lOSspecific -lPstream --no-whole-archive -lm -lmetis ${SWLU_LIB} -o ${INSTALL_DIR}/bin/icoFoam_swlu

simpleFoam:
	swg++453 -DSWTIMER=1 -DSWLU -fPIC -Dlinux64 -DWM_ARCH_OPTION=64 -DWM_DP -DWM_LABEL_SIZE=32 -Wall -Wextra -Wno-old-style-cast -Wnon-virtual-dtor -Wno-unused-parameter -Wno-invalid-offsetof -O3  -DNoRepository -ftemplate-depth-100 -I${SRC_DIR}/TurbulenceModels/turbulenceModels/lnInclude -I${SRC_DIR}/TurbulenceModels/incompressible/lnInclude -I${SRC_DIR}/transportModels -I${SRC_DIR}/transportModels/incompressible/singlePhaseTransportModel -I${SRC_DIR}/finiteVolume/lnInclude -I${SRC_DIR}/meshTools/lnInclude -I${SRC_DIR}/fvOptions/lnInclude -I${SRC_DIR}/sampling/lnInclude -IlnInclude -I. -I${SRC_DIR}/OpenFOAM/lnInclude -I${SRC_DIR}/OSspecific/lnInclude   -I/usr/sw-mpp/swcc/swgcc453-binary/cross-tools/include -I${HOME}/include -I${SWLU_DIR}/include -c ./applications/solvers/incompressible/simpleFoam/simpleFoam.C -o ${INSTALL_DIR}/applications/solvers/incompressible/simpleFoam/simpleFoam.o
	swld453 -static  ${INSTALL_DIR}/applications/solvers/incompressible/simpleFoam/simpleFoam.o -o ${INSTALL_DIR}/bin/simpleFoam_swlu -L${INSTALL_DIR}/lib -L${INSTALL_DIR}/lib/mpi -L${INSTALL_DIR}/lib/dummy -L${THIRD_DIR}/lib -L${THIRD_DIR}/lib/mpi -L${SWLU_DIR}/lib --whole-archive -lturbulenceModels -lincompressibleTurbulenceModels -lincompressibleTransportModels -lfiniteVolume -lmeshTools -lfvOptions -lsampling -ltwoPhaseMixture -ltriSurface -lfileFormats -lsurfMesh -lcompressibleTurbulenceModels -lcompressibleTransportModels -lfluidThermophysicalModels -lsolidThermo -lspecie -lsolidSpecie -lreactionThermophysicalModels -llagrangian -lconversion --no-whole-archive --whole-archive -lOpenFOAM -lOSspecific -lPstream --no-whole-archive -lm ${SWLU_LIB}

pisoFoam:
	swg++453 -DSWTIMER=1 -DSWLU -fPIC -Dlinux64 -DWM_ARCH_OPTION=64 -DWM_DP -DWM_LABEL_SIZE=32 -Wall -Wextra -Wno-old-style-cast -Wnon-virtual-dtor -Wno-unused-parameter -Wno-invalid-offsetof -O3  -DNoRepository -ftemplate-depth-100 -I${SRC_DIR}/TurbulenceModels/turbulenceModels/lnInclude -I${SRC_DIR}/TurbulenceModels/incompressible/lnInclude -I${SRC_DIR}/transportModels -I${SRC_DIR}/transportModels/incompressible/singlePhaseTransportModel -I${SRC_DIR}/finiteVolume/lnInclude -I${SRC_DIR}/meshTools/lnInclude -I${SRC_DIR}/fvOptions/lnInclude -I${SRC_DIR}/sampling/lnInclude -IlnInclude -I. -I${SRC_DIR}/OpenFOAM/lnInclude -I${SRC_DIR}/OSspecific/lnInclude   -I/usr/sw-mpp/swcc/swgcc453-binary/cross-tools/include -I${HOME}/include -I${SWLU_DIR}/include -c ./applications/solvers/incompressible/pisoFoam/pisoFoam.C -o ${INSTALL_DIR}/applications/solvers/incompressible/pisoFoam/pisoFoam.o
	swld453 -static  ${INSTALL_DIR}/applications/solvers/incompressible/pisoFoam/pisoFoam.o -o ${INSTALL_DIR}/bin/pisoFoam_swlu -L${INSTALL_DIR}/lib -L${INSTALL_DIR}/lib/mpi -L${INSTALL_DIR}/lib/dummy -L${THIRD_DIR}/lib -L${THIRD_DIR}/lib/mpi -L${SWLU_DIR}/lib  --whole-archive -lturbulenceModels -lincompressibleTurbulenceModels -lincompressibleTransportModels -lfiniteVolume -lmeshTools -lfvOptions -lsampling -ltwoPhaseMixture -ltriSurface -lfileFormats -lsurfMesh -lcompressibleTurbulenceModels -lcompressibleTransportModels -lfluidThermophysicalModels -lsolidThermo -lspecie -lsolidSpecie -lreactionThermophysicalModels -llagrangian -lconversion --no-whole-archive --whole-archive -lOpenFOAM -lOSspecific -lPstream --no-whole-archive -lm ${SWLU_LIB}

rhoPimpleDyMFoam:
	swg++453 -DSWLU -fPIC -Dlinux64 -DWM_ARCH_OPTION=64 -DWM_DP -DWM_LABEL_SIZE=32 -Wall -Wextra -Wno-old-style-cast -Wnon-virtual-dtor -Wno-unused-parameter -Wno-invalid-offsetof -O3  -DNoRepository -ftemplate-depth-100 -I./applications/solvers/compressible/rhoPimpleFoam -I${SRC_DIR}/transportModels/compressible/lnInclude -I${SRC_DIR}/thermophysicalModels/basic/lnInclude -I${SRC_DIR}/TurbulenceModels/turbulenceModels/lnInclude -I${SRC_DIR}/TurbulenceModels/compressible/lnInclude -I${SRC_DIR}/finiteVolume/cfdTools -I${SRC_DIR}/finiteVolume/lnInclude -I${SRC_DIR}/meshTools/lnInclude -I${SRC_DIR}/sampling/lnInclude -I${SRC_DIR}/fvOptions/lnInclude -I${SRC_DIR}/dynamicFvMesh/lnInclude -I${SRC_DIR}/dynamicMesh/lnInclude -I${SRC_DIR}/meshTools/lnInclude  -IlnInclude -I. -I${SRC_DIR}/OpenFOAM/lnInclude -I${SRC_DIR}/OSspecific/lnInclude   -I/usr/sw-mpp/swcc/swgcc453-binary/cross-tools/include -I/home/export/base/nsccwuxi_amd/amd_dev1/include -I${SWLU_DIR}/include  -c ./applications/solvers/compressible/rhoPimpleFoam/rhoPimpleDyMFoam/rhoPimpleDyMFoam.C -o ${INSTALL_DIR}/applications/solvers/compressible/rhoPimpleFoam/rhoPimpleDyMFoam/rhoPimpleDyMFoam.o
	swld453 -static ${INSTALL_DIR}/applications/solvers/compressible/rhoPimpleFoam/rhoPimpleDyMFoam/rhoPimpleDyMFoam.o -L${INSTALL_DIR}/lib -L${INSTALL_DIR}/lib/mpi -L${INSTALL_DIR}/lib/dummy -L${THIRD_DIR}/lib -L${THIRD_DIR}/lib/mpi -L${SWLU_DIR}/lib --whole-archive --no-whole-archive -o ${INSTALL_DIR}/bin/rhoPimpleDyMFoam_swlu --whole-archive -lcompressibleTransportModels -lfiniteVolume -lOpenFOAM -lOSspecific -lPstream -lmpi -ltriSurface -lfileFormats -lsurfMesh -lmeshTools -lfluidThermophysicalModels -lspecie -lturbulenceModels -lcompressibleTurbulenceModels -lsolidThermo -lsolidSpecie -lreactionThermophysicalModels -lsampling -llagrangian -lconversion -lfvOptions -ldynamicFvMesh -ldynamicMesh -lextrudeModel -ltopoChangerFvMesh --no-whole-archive -lm -lmetis ${SWLU_LIB}	
